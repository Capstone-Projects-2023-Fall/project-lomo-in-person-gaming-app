"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[9692],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=d(a),u=r,h=m["".concat(l,".").concat(u)]||m[u]||p[u]||s;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,i=new Array(s);i[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var d=2;d<s;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8682:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const s={sidebar_position:4,description:"Database Diagram"},i="Database Diagram",o={unversionedId:"system-architecture/erddiagrams",id:"system-architecture/erddiagrams",title:"Database Diagram",description:"Database Diagram",source:"@site/docs/system-architecture/erddiagrams.md",sourceDirName:"system-architecture",slug:"/system-architecture/erddiagrams",permalink:"/project-lomo-in-person-gaming-app/docs/system-architecture/erddiagrams",draft:!1,editUrl:"https://github.com/Capstone-Projects-2023-Fall/project-lomo-in-person-gaming-app/edit/main/documentation/docs/system-architecture/erddiagrams.md",tags:[],version:"current",lastUpdatedBy:"JonathanAltenburg",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Database Diagram"},sidebar:"docsSidebar",previous:{title:"Sequence Diagrams",permalink:"/project-lomo-in-person-gaming-app/docs/system-architecture/sequencediagrams"},next:{title:"API Specification",permalink:"/project-lomo-in-person-gaming-app/docs/category/api-specification"}},l={},d=[{value:"Figure 1. Database Entity-Relation-Diagram for NoSQL database",id:"figure-1-database-entity-relation-diagram-for-nosql-database",level:4},{value:"Users table",id:"users-table",level:2},{value:"Figure 2. Users JSON schema",id:"figure-2-users-json-schema",level:4},{value:"profile",id:"profile",level:4},{value:"friends",id:"friends",level:4},{value:"beacons_hosted",id:"beacons_hosted",level:4},{value:"beacons_attended",id:"beacons_attended",level:4},{value:"Beacons table",id:"beacons-table",level:2},{value:"Figure 3. Beacons JSON schema",id:"figure-3-beacons-json-schema",level:4},{value:"waitlist",id:"waitlist",level:4},{value:"players_attended",id:"players_attended",level:4},{value:"comments",id:"comments",level:4},{value:"Reports Schema",id:"reports-schema",level:2},{value:"Figure 4. Reports JSON Schema",id:"figure-4-reports-json-schema",level:4},{value:"Datatype Conversion from MongoDB to PHP",id:"datatype-conversion-from-mongodb-to-php",level:2}],c={toc:d};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"database-diagram"},"Database Diagram"),(0,r.kt)("mermaid",{value:'---\ntitle: Database Entity-Relationship-Diagram\n---\nerDiagram\n    USERS ||--|| profile : contains\n    USERS { \n        int user_id\n        string email\n        string password\n        string username\n        string first_name\n        string last_name\n        string avatar\n        list friends\n        object profile\n    }\n\n    USERS ||--|| profile : contains\n    profile {\n        string about\n        list beacons_hosted\n        list beacons_attended\n    }\n\n    profile ||--|| beacon_hosted : contains\n    beacon_hosted {\n        int beacon_id\n        string title\n        string image\n    }\n\n    profile ||--|| beacon_attended : contains\n    beacon_attended {\n        int beacon_int\n        string title\n        string image\n    }\n\n    USERS ||--o{ friend : contains\n    friend {\n        int user_id\n        int username\n        string avatar\n    }\n\n    USERS }o--o{ BEACONS : "hosts or attends"\n    BEACONS {\n        int beacon_id\n        int host_id\n        string title\n        string image\n        string game\n        string description\n        date date_time\n        string location\n        int num_players_needed\n        list waitlist\n        list players_attended\n        list comments\n    }\n\n    BEACONS ||--|| waitlist : contains\n    waitlist {\n        int user_id\n        string username\n        string avatar\n    }\n\n    BEACONS ||--|| player_attended : contains\n    player_attended {\n        int user_id\n        string username\n        string avatar\n    }\n\n    BEACONS ||--o{ comment : contains\n    comment {\n        int user_id\n        string username\n        string avatar\n        date timestamp\n        string comment_body\n    }\n\n    USERS ||--o{ REPORTS : "has against them"\n    REPORTS {\n        int reportee_id\n        int reported_id\n        date timestamp\n        string report_body\n    }'}),(0,r.kt)("h4",{id:"figure-1-database-entity-relation-diagram-for-nosql-database"},"Figure 1. Database Entity-Relation-Diagram for NoSQL database"),(0,r.kt)("p",null,"The MongoDB database has 3 tables: ",(0,r.kt)("a",{parentName:"p",href:"#users-table"},"Users"),", ",(0,r.kt)("a",{parentName:"p",href:"#beacons-table"},"Beacons"),", and ",(0,r.kt)("a",{parentName:"p",href:"#reports-table"},"Reports"),"."),(0,r.kt)("p",null,"The Users table contains data about the users such as their account data, user profile data, and friends data."),(0,r.kt)("p",null,"The Beacons table contains data about the beacons such as beacon information, waitlist, a history of all the users who attended the beacon, and a list of all the comments posted on the beacon from users."),(0,r.kt)("p",null,"The Reports table contains data about user reports about another using."),(0,r.kt)("h2",{id:"users-table"},"Users table"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"Users": {\n    "user_id": 0,\n    "email": "",\n    "username": "",\n    "password": "",\n    "first_name": "",\n    "last_name": "",\n    "avatar_image": "",\n    "profile": {\n        "about": "",\n        "beacons_hosted": [\n            {\n                "beacon_id": 0,\n                "title": "",\n                "image": "",\n            },\n        ],\n        "beacons_attended": [\n            {\n                "beacon_id": 0,\n                "title": "",\n                "image": "",\n            },\n        ],\n\u2003   },\n\u2003   "friends": [\n        {\n            "user_id": 0,\n            "username": "",\n            "avatar": "",\n        }\n    ]\n}\n')),(0,r.kt)("h4",{id:"figure-2-users-json-schema"},"Figure 2. Users JSON schema"),(0,r.kt)("p",null,"The Users schema contains all the information about the app's user from account data such as email, username, password, first_name, last_name, and avatar. And then the ",(0,r.kt)("a",{parentName:"p",href:"#profile"},"profile object")," for the user's profile a ",(0,r.kt)("a",{parentName:"p",href:"#friends"},"friends list")," of all of their friends."),(0,r.kt)("p",null,"The user_id acts as a primary key and is unique. The email and the username are also unique as well."),(0,r.kt)("h4",{id:"profile"},"profile"),(0,r.kt)("p",null,"The profile object contains data that will be displayed to the user's profile such as their about me section, a list of beacons that they hosted, and a list of beacons that they attended. Each item in the list contains an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#beacons-table"},"Beacons")," schema: {beacon_id, title}."),(0,r.kt)("h4",{id:"friends"},"friends"),(0,r.kt)("p",null,"The friends list contains a list of other users that the user is friends with. Each item in the list is an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#users-table"},"Users")," schema: {user_id, username, avatar}."),(0,r.kt)("h4",{id:"beacons_hosted"},"beacons_hosted"),(0,r.kt)("p",null,"The beacons hosted list contains a list of all the beacon events that the user has hosted/created. Each item in the list is an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#beacons-table"},"Beacons")," schema. {beacon_id, title, iamge}"),(0,r.kt)("h4",{id:"beacons_attended"},"beacons_attended"),(0,r.kt)("p",null,"The beacons attended list contains a list of all the beacon events that the user attended. Each item in the list is an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#beacons-table"},"Beacons")," schema: {beacon_id, title, iamge}"),(0,r.kt)("h2",{id:"beacons-table"},"Beacons table"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"Beacons": {\n    "beacon_id": 0,\n    "host_id": 0,\n    "title": "",\n    "image": "",\n    "game": "",\n    "date_time": Date(),\n    "location": "",\n    "num_players_needed": 0,\n    "waitlist": [\n        {\n            "user_id": 0,\n            "username": "",\n            "avatar": "",\n        },\n    ],\n    "players_attended": [\n        {\n            "user_id": 0,\n            "username": "",\n            "avatar": "", \n        },\n    ],\n    "comments": [\n        {\n            "user_id": 0,\n            "username": "",\n            "avatar": "",\n            "timestamp": Date(),\n            "comment_body": "",\n        },\n    ]\n}\n')),(0,r.kt)("h4",{id:"figure-3-beacons-json-schema"},"Figure 3. Beacons JSON schema"),(0,r.kt)("p",null,"The Beacons schema contains all data about a beacon event that will be displayed on the Beacons' Page. It also has all the comments associated with the beacon. It contains the ",(0,r.kt)("a",{parentName:"p",href:"#waitlist"},"waitlist"),", ",(0,r.kt)("a",{parentName:"p",href:"#players_attended"},"players attened list"),", and the ",(0,r.kt)("a",{parentName:"p",href:"#comments"},"comments list"),"."),(0,r.kt)("p",null,"The beacon_id is the primary key and is unique."),(0,r.kt)("h4",{id:"waitlist"},"waitlist"),(0,r.kt)("p",null,"The wait list contains a list of all users who wants to the join the beacon event. Each item in the list is an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#users-table"},"Users")," schema: {user_id, username, avatar}."),(0,r.kt)("h4",{id:"players_attended"},"players_attended"),(0,r.kt)("p",null,"The players attended list contains a list of all users who were accepted by the host and attended the beacon event. Each item in the list is an object with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#users-table"},"Users")," schema: {user_id, username, avatar}."),(0,r.kt)("h4",{id:"comments"},"comments"),(0,r.kt)("p",null,"The comments list contains a list of all comments posted by users on the beacon's page, for the beacon. Each item in the list is a comment object with its own fields and with some fields from the ",(0,r.kt)("a",{parentName:"p",href:"#users-table"},"Users")," schema: {user_id, username, avatar, timestamp, comment_body}. "),(0,r.kt)("h2",{id:"reports-schema"},"Reports Schema"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"Reports":{\n    "reportee_id": 0,\n    "reported_id": 0,\n    "timestamp": Date(),\n    "report_body": "",\n}\n')),(0,r.kt)("h4",{id:"figure-4-reports-json-schema"},"Figure 4. Reports JSON Schema"),(0,r.kt)("p",null,"The Reports schema contains data about a user who has been reported for harassment and/or unsafe or inapproprate beacon events. It contains data about the the user who reported them, and the user who was reported on as well as the timestamp and the report itself."),(0,r.kt)("h2",{id:"datatype-conversion-from-mongodb-to-php"},"Datatype Conversion from MongoDB to PHP"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"String"),": Converted to PHP string."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Integer (Int32)"),": Converted to PHP integer."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Long (Int64)"),": Converted to PHP float for 64-bit integers (since PHP's ",(0,r.kt)("inlineCode",{parentName:"li"},"int")," is 32-bit)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Double"),": Converted to PHP float."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Boolean"),": Converted to PHP boolean."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Date"),": Converted to PHP ",(0,r.kt)("inlineCode",{parentName:"li"},"DateTime")," object."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Array"),": Converted to PHP array."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Embedded Document (Subdocument)"),": Converted to PHP associative array or object."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ObjectId"),": Converted to PHP string (hex representation)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Binary Data"),": Converted to PHP binary data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Decimal128"),": Converted to PHP string (MongoDB's Decimal128 is precise and can have more significant digits than PHP float)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Undefined"),": Converted to PHP ",(0,r.kt)("inlineCode",{parentName:"li"},"null"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"MinKey"),": Converted to PHP ",(0,r.kt)("inlineCode",{parentName:"li"},"null"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"MaxKey"),": Converted to PHP ",(0,r.kt)("inlineCode",{parentName:"li"},"null"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Regular Expression"),": Converted to PHP string (regex pattern).")))}m.isMDXComponent=!0}}]);